  [1m[35m (157.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (149.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087026728384709525)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTables (0)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (307.1ms)[0m  [1m[35mCREATE TABLE "hosts" ("id" serial NOT NULL PRIMARY KEY, "created" timestamp, "address" character varying(16), "address6" character varying, "mac" character varying, "comm" character varying, "name" character varying, "state" character varying, "info" character varying(1024), "os_name" character varying, "os_flavor" character varying, "os_sp" character varying, "os_lang" character varying, "arch" character varying)[0m
  [1m[35m (68.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_hosts_on_address" ON "hosts" ("address")[0m
  [1m[35m (122.2ms)[0m  [1m[35mCREATE TABLE "clients" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "created" timestamp, "ua_string" character varying(1024) NOT NULL, "ua_name" character varying(64), "ua_ver" character varying(32))[0m
  [1m[35m (110.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "created" timestamp, "port" integer NOT NULL, "proto" character varying(16) NOT NULL, "state" character varying, "name" character varying, "info" character varying(1024))[0m
  [1m[35m (112.5ms)[0m  [1m[35mCREATE TABLE "vulns" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "service_id" integer, "created" timestamp, "name" character varying, "data" text)[0m
  [1m[35m (99.7ms)[0m  [1m[35mCREATE TABLE "refs" ("id" serial NOT NULL PRIMARY KEY, "ref_id" integer, "created" timestamp, "name" character varying(512))[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "vulns_refs" ("ref_id" integer, "vuln_id" integer)[0m
  [1m[35m (86.9ms)[0m  [1m[35mCREATE TABLE "notes" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "created" timestamp, "ntype" character varying(512), "data" text)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "0"]]
  [1m[36mTRANSACTION (28.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWmapTables (1)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (104.3ms)[0m  [1m[35mCREATE TABLE "wmap_targets" ("id" serial NOT NULL PRIMARY KEY, "host" character varying, "address" character varying(16), "address6" character varying, "port" integer, "ssl" integer, "selected" integer)[0m
  [1m[35m (99.5ms)[0m  [1m[35mCREATE TABLE "wmap_requests" ("id" serial NOT NULL PRIMARY KEY, "host" character varying, "address" character varying(16), "address6" character varying, "port" integer, "ssl" integer, "meth" character varying(32), "path" text, "headers" text, "query" text, "body" text, "respcode" character varying(16), "resphead" text, "response" text, "created" timestamp)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "1"]]
  [1m[36mTRANSACTION (21.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWorkspaces (2)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (151.6ms)[0m  [1m[35mCREATE TABLE "workspaces" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "hosts" ADD "workspace_id" integer[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP INDEX  "index_hosts_on_address"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "2"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to MoveNotes (3)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notes" DROP COLUMN "host_id"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notes" ADD "workspace_id" integer DEFAULT 1 NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "notes" ADD "service_id" integer[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notes" ADD "host_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "3"]]
  [1m[36mTRANSACTION (30.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddEventsTable (4)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (141.6ms)[0m  [1m[35mCREATE TABLE "events" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer, "host_id" integer, "created_at" timestamp, "user" character varying, "name" character varying, "info" character varying)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "4"]]
  [1m[36mTRANSACTION (19.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandInfo (5)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "events" DROP COLUMN "info"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "events" ADD "info" character varying(4096)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notes" DROP COLUMN "data"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notes" ADD "data" character varying(4096)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "vulns" DROP COLUMN "data"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vulns" ADD "data" character varying(4096)[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "hosts" DROP COLUMN "info"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "hosts" ADD "info" character varying(4096)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "services" DROP COLUMN "info"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "services" ADD "info" character varying(4096)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "5"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTimestamps (6)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "clients" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "hosts" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notes" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "refs" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "services" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vulns" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "wmap_requests" RENAME COLUMN "created" TO "created_at"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "wmap_targets" ADD "created_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "clients" ADD "updated_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "events" ADD "updated_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "hosts" ADD "updated_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notes" ADD "updated_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "refs" ADD "updated_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "services" ADD "updated_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vulns" ADD "updated_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "wmap_requests" ADD "updated_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "wmap_targets" ADD "updated_at" timestamp[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "6"]]
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLoots (7)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (131.2ms)[0m  [1m[35mCREATE TABLE "loots" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer DEFAULT 1 NOT NULL, "host_id" integer, "service_id" integer, "ltype" character varying(512), "path" character varying(1024), "data" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "7"]]
  [1m[36mTRANSACTION (29.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (8)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (165.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial NOT NULL PRIMARY KEY, "username" character varying, "crypted_password" character varying, "password_salt" character varying, "persistence_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "8"]]
  [1m[36mTRANSACTION (28.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLootsCtype (9)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "loots" ADD "content_type" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "9"]]
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAlertFields (10)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notes" ADD "critical" boolean[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "notes" ADD "seen" boolean[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "events" ADD "critical" boolean[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "events" ADD "seen" boolean[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "10"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReports (11)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (143.5ms)[0m  [1m[35mCREATE TABLE "reports" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer DEFAULT 1 NOT NULL, "created_by" character varying, "rtype" character varying, "path" character varying(1024), "options" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "11"]]
  [1m[36mTRANSACTION (28.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTasks (12)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (134.2ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer DEFAULT 1 NOT NULL, "created_by" character varying, "module" character varying, "completed_at" timestamp, "path" character varying(1024), "info" character varying, "description" character varying, "progress" integer, "options" text, "error" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "12"]]
  [1m[36mTRANSACTION (25.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTasksResult (13)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "tasks" ADD "result" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "13"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLootsFields (14)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "loots" ADD "name" text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "loots" ADD "info" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "14"]]
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameUser (15)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "events" DROP COLUMN "user"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "events" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "15"]]
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHostPurpose (16)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "hosts" ADD "purpose" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "16"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandInfo2 (17)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "events" DROP COLUMN "info"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "events" ADD "info" character varying(65536)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notes" DROP COLUMN "data"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notes" ADD "data" character varying(65536)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "vulns" DROP COLUMN "data"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "vulns" ADD "data" character varying(65536)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "hosts" DROP COLUMN "info"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "hosts" ADD "info" character varying(65536)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "services" DROP COLUMN "info"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "services" ADD "info" character varying(65536)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "17"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWorkspaceUserInfo (18)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "workspaces" ADD "boundary" character varying(4096)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "fullname" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "phone" character varying[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "company" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "18"]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWorkspaceDesc (19)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "workspaces" ADD "description" character varying(4096)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "hosts" ADD "comments" character varying(4096)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "19"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserPreferences (20)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "prefs" character varying(524288)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to StandardizeInfoAndData (21)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "vulns" DROP COLUMN "data"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vulns" ADD "info" character varying(65536)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "21"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to EnlargeEventInfo (22)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "events" ALTER COLUMN "info" TYPE text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "22"]]
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReportDownloadedAt (23)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "reports" ADD "downloaded_at" timestamp[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "23"]]
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to ConvertServiceInfoToText (24)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "services" ALTER COLUMN "info" TYPE text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "24"]]
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserAdmin (25)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT TRUE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "project_members" ("workspace_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "25"]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredsTable (26)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (124.8ms)[0m  [1m[35mCREATE TABLE "creds" ("id" serial NOT NULL PRIMARY KEY, "service_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user" character varying(2048), "pass" character varying(4096), "active" boolean DEFAULT TRUE, "proof" character varying(4096), "ptype" character varying(16), "source_id" integer, "source_type" character varying)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "26"]]
  [1m[36mTRANSACTION (25.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigrateCredData (20100819123300)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::Note Load (1.1ms)[0m  [1m[34mSELECT "notes".* FROM "notes"[0m
  [1m[36mMdm::Note Load (0.6ms)[0m  [1m[34mSELECT "notes".* FROM "notes"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100819123300"]]
  [1m[36mTRANSACTION (25.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddExploitedTable (20100824151500)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (635.6ms)[0m  [1m[35mCREATE TABLE "exploited_hosts" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer NOT NULL, "service_id" integer, "session_uuid" character varying(8), "name" character varying(2048), "payload" character varying(2048), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100824151500"]]
  [1m[36mTRANSACTION (180.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOwnerToWorkspaces (20100908001428)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "workspaces" ADD "owner_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100908001428"]]
  [1m[36mTRANSACTION (320.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReportTemplates (20100911122000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (535.4ms)[0m  [1m[35mCREATE TABLE "report_templates" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer DEFAULT 1 NOT NULL, "created_by" character varying, "path" character varying(1024), "name" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100911122000"]]
  [1m[36mTRANSACTION (23.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RequireAdminFlag (20100916151530)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::User Update All (1.2ms)[0m  [1m[33mUPDATE "users" SET "admin" = $1 WHERE "users"."admin" = $2[0m  [["admin", nil], ["admin", true]]
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "admin" TYPE boolean[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "admin" SET DEFAULT TRUE[0m
  [1m[35m (0.6ms)[0m  [1m[33mUPDATE "users" SET "admin"=TRUE WHERE "admin" IS NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "admin" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100916151530"]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCampaignsAndTemplates (20100916175000)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (159.2ms)[0m  [1m[35mCREATE TABLE "campaigns" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer NOT NULL, "name" character varying(512), "prefs" text, "status" integer DEFAULT 0, "started_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (121.6ms)[0m  [1m[35mCREATE TABLE "email_templates" ("id" serial NOT NULL PRIMARY KEY, "name" character varying(512), "subject" character varying(1024), "body" text, "parent_id" integer, "campaign_id" integer)[0m
  [1m[35m (153.9ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" serial NOT NULL PRIMARY KEY, "name" character varying(512), "data" bytea, "content_type" character varying(512), "inline" boolean DEFAULT TRUE NOT NULL, "zip" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "attachments_email_templates" ("attachment_id" integer, "email_template_id" integer)[0m
  [1m[35m (141.0ms)[0m  [1m[35mCREATE TABLE "email_addresses" ("id" serial NOT NULL PRIMARY KEY, "campaign_id" integer NOT NULL, "first_name" character varying(512), "last_name" character varying(512), "address" character varying(512), "sent" boolean DEFAULT FALSE NOT NULL, "clicked_at" timestamp)[0m
  [1m[35m (144.8ms)[0m  [1m[35mCREATE TABLE "web_templates" ("id" serial NOT NULL PRIMARY KEY, "name" character varying(512), "title" character varying(512), "body" character varying(524288), "campaign_id" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100916175000"]]
  [1m[36mTRANSACTION (30.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenerateExeColumn (20100920012100)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "email_templates" ADD "generate_exe" boolean DEFAULT FALSE NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100920012100"]]
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTemplatePrefs (20100926214000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "email_templates" DROP COLUMN "generate_exe"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "email_templates" ADD "prefs" text[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "web_templates" ADD "prefs" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20100926214000"]]
  [1m[36mTRANSACTION (54.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWebTables (20101001000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (197.9ms)[0m  [1m[35mCREATE TABLE "web_sites" ("id" serial NOT NULL PRIMARY KEY, "service_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "vhost" character varying(2048), "comments" text, "options" text)[0m
  [1m[35m (235.5ms)[0m  [1m[35mCREATE TABLE "web_pages" ("id" serial NOT NULL PRIMARY KEY, "web_site_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "path" text, "query" text, "code" integer NOT NULL, "cookie" text, "auth" text, "ctype" text, "mtime" timestamp, "location" text, "body" text, "headers" text)[0m
  [1m[35m (188.0ms)[0m  [1m[35mCREATE TABLE "web_forms" ("id" serial NOT NULL PRIMARY KEY, "web_site_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "path" text, "method" character varying(1024), "params" text)[0m
  [1m[35m (133.1ms)[0m  [1m[35mCREATE TABLE "web_vulns" ("id" serial NOT NULL PRIMARY KEY, "web_site_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "path" text, "method" character varying(1024), "params" text, "pname" text, "proof" text, "risk" integer, "name" character varying(1024))[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101001000000"]]
  [1m[36mTRANSACTION (181.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuery (20101002000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "web_forms" ADD "query" text[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "query" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101002000000"]]
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVulnInfo (20101007000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "category" text[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "confidence" text[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "description" text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "blame" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101007000000"]]
  [1m[36mTRANSACTION (41.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClientsToCampaigns (20101008111800)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "clients" ADD "campaign_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101008111800"]]
  [1m[36mTRANSACTION (49.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCampaignAttachments (20101009023300)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "attachments" ADD "campaign_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101009023300"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImportedCreds (20101104135100)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (113.2ms)[0m  [1m[35mCREATE TABLE "imported_creds" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer DEFAULT 1 NOT NULL, "user" character varying(512), "pass" character varying(512), "ptype" character varying(16) DEFAULT 'password')[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101104135100"]]
  [1m[36mTRANSACTION (22.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixWebTables (20101203000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "path" TYPE text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "query" TYPE text[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "cookie" TYPE text[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "auth" TYPE text[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "ctype" TYPE text[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "location" TYPE text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_pages" ALTER COLUMN "path" TYPE text[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "path" TYPE text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "pname" TYPE text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_pages" ADD "request" text[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "request" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101203000000"]]
  [1m[36mTRANSACTION (46.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandHostComment (20101203000001)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "hosts" ALTER COLUMN "comments" TYPE text[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101203000001"]]
  [1m[36mTRANSACTION (48.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLimitToNetworkToWorkspaces (20101206212033)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "workspaces" ADD "limit_to_network" boolean DEFAULT FALSE NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20101206212033"]]
  [1m[36mTRANSACTION (47.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddModuleUuidToTasks (20110112154300)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "tasks" ADD "module_uuid" character varying(8)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110112154300"]]
  [1m[36mTRANSACTION (48.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHostTags (20110204112800)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (135.0ms)[0m  [1m[35mCREATE TABLE "tags" ("id" serial NOT NULL PRIMARY KEY, "user_id" integer, "name" character varying(1024), "desc" text, "report_summary" boolean DEFAULT FALSE NOT NULL, "report_detail" boolean DEFAULT FALSE NOT NULL, "critical" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "hosts_tags" ("host_id" integer, "tag_id" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110204112800"]]
  [1m[36mTRANSACTION (20.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSessionTable (20110317144932)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.5ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "stype" character varying, "via_exploit" character varying, "via_payload" character varying, "desc" character varying, "port" integer, "platform" character varying, "routes" character varying, "datastore" text, "opened_at" timestamp NOT NULL, "closed_at" timestamp, "close_reason" character varying)[0m
  [1m[35m (155.1ms)[0m  [1m[35mCREATE TABLE "session_events" ("id" serial NOT NULL PRIMARY KEY, "session_id" integer, "etype" character varying, "command" bytea, "output" bytea, "remote_path" character varying, "local_path" character varying, "created_at" timestamp)[0m
  [1m[36mAddSessionTable::Event Load (0.9ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."name" = $1[0m  [["name", "session_open"]]
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110317144932"]]
  [1m[36mTRANSACTION (19.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocalIdToSessionTable (20110414180600)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sessions" ADD "local_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110414180600"]]
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoutesTable (20110415175705)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (163.0ms)[0m  [1m[35mCREATE TABLE "routes" ("id" serial NOT NULL PRIMARY KEY, "session_id" integer, "subnet" character varying, "netmask" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sessions" DROP COLUMN "routes"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110415175705"]]
  [1m[36mTRANSACTION (29.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to ConvertBinary (20110422000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "web_pages" RENAME COLUMN "body" TO "body_text"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "web_pages" RENAME COLUMN "request" TO "request_text"[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "web_vulns" RENAME COLUMN "request" TO "request_text"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" RENAME COLUMN "proof" TO "proof_text"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "web_pages" ADD "body" bytea[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_pages" ADD "request" bytea[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "request" bytea[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "proof" bytea[0m
  [1m[36mConvertBinary::WebPage Load (1.0ms)[0m  [1m[34mSELECT "web_pages".* FROM "web_pages"[0m
  [1m[36mConvertBinary::WebPage Load (0.7ms)[0m  [1m[34mSELECT "web_pages".* FROM "web_pages"[0m
  [1m[36mConvertBinary::WebVuln Load (1.0ms)[0m  [1m[34mSELECT "web_vulns".* FROM "web_vulns"[0m
  [1m[36mConvertBinary::WebVuln Load (0.6ms)[0m  [1m[34mSELECT "web_vulns".* FROM "web_vulns"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "web_pages" DROP COLUMN "body_text"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_pages" DROP COLUMN "request_text"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" DROP COLUMN "request_text"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_vulns" DROP COLUMN "proof_text"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110422000000"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLastSeenToSessions (20110425095900)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "sessions" ADD "last_seen" timestamp[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110425095900"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to TrackSuccessfulExploits (20110513143900)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "vulns" ADD "exploited_at" timestamp[0m
  [1m[36mTrackSuccessfulExploits::ExploitedHost Load (0.9ms)[0m  [1m[34mSELECT "exploited_hosts".* FROM "exploited_hosts"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110513143900"]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameAndPruneNessusVulns (20110517160800)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRenameAndPruneNessusVulns::Vuln Load (1.0ms)[0m  [1m[34mSELECT "vulns".* FROM "vulns"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110517160800"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaskIdToReportsTable (20110527000000)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "reports" ADD "task_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110527000000"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddApiKeysTable (20110527000001)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (120.8ms)[0m  [1m[35mCREATE TABLE "api_keys" ("id" serial NOT NULL PRIMARY KEY, "token" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110527000001"]]
  [1m[36mTRANSACTION (29.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMacrosTable (20110606000001)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (165.8ms)[0m  [1m[35mCREATE TABLE "macros" ("id" serial NOT NULL PRIMARY KEY, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "owner" text, "name" text, "description" text, "actions" bytea, "prefs" bytea)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110606000001"]]
  [1m[36mTRANSACTION (28.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSettingsToTasksTable (20110622000000)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "tasks" ADD "settings" bytea[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110622000000"]]
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddListenersTable (20110624000001)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.5ms)[0m  [1m[35mCREATE TABLE "listeners" ("id" serial NOT NULL PRIMARY KEY, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "workspace_id" integer DEFAULT 1 NOT NULL, "task_id" integer, "enabled" boolean DEFAULT TRUE, "owner" text, "payload" text, "address" text, "port" integer, "options" bytea)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110624000001"]]
  [1m[36mTRANSACTION (27.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMacroToListenersTable (20110625000001)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "listeners" ADD "macro" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110625000001"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNexposeConsolesTable (20110630000001)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.3ms)[0m  [1m[35mCREATE TABLE "nexpose_consoles" ("id" serial NOT NULL PRIMARY KEY, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "enabled" boolean DEFAULT TRUE, "owner" text, "address" text, "port" integer DEFAULT 3780, "username" text, "password" text, "status" text, "version" text, "cert" text, "cached_sites" bytea)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110630000001"]]
  [1m[36mTRANSACTION (25.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToNexposeConsolesTable (20110630000002)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "nexpose_consoles" ADD "name" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110630000002"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddProfilesTable (20110717000001)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (146.4ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" serial NOT NULL PRIMARY KEY, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "active" boolean DEFAULT TRUE, "name" text, "owner" text, "settings" bytea)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110717000001"]]
  [1m[36mTRANSACTION (25.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandCredPtypeColumn (20110727163801)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "creds" ALTER COLUMN "ptype" TYPE character varying(256)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110727163801"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddInitialIndexes (20110730000001)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (57.3ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_address" ON "hosts" ("address")[0m
  [1m[35m (55.2ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_address6" ON "hosts" ("address6")[0m
  [1m[35m (55.4ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_name" ON "hosts" ("name")[0m
  [1m[35m (92.6ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_state" ON "hosts" ("state")[0m
  [1m[35m (95.7ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_os_name" ON "hosts" ("os_name")[0m
  [1m[35m (144.3ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_os_flavor" ON "hosts" ("os_flavor")[0m
  [1m[35m (77.4ms)[0m  [1m[35mCREATE INDEX "index_hosts_on_purpose" ON "hosts" ("purpose")[0m
  [1m[35m (55.2ms)[0m  [1m[35mCREATE INDEX "index_services_on_port" ON "services" ("port")[0m
  [1m[35m (79.3ms)[0m  [1m[35mCREATE INDEX "index_services_on_proto" ON "services" ("proto")[0m
  [1m[35m (92.9ms)[0m  [1m[35mCREATE INDEX "index_services_on_state" ON "services" ("state")[0m
  [1m[35m (82.6ms)[0m  [1m[35mCREATE INDEX "index_services_on_name" ON "services" ("name")[0m
  [1m[35m (68.0ms)[0m  [1m[35mCREATE INDEX "index_notes_on_ntype" ON "notes" ("ntype")[0m
  [1m[35m (66.4ms)[0m  [1m[35mCREATE INDEX "index_vulns_on_name" ON "vulns" ("name")[0m
  [1m[35m (55.2ms)[0m  [1m[35mCREATE INDEX "index_refs_on_name" ON "refs" ("name")[0m
  [1m[35m (74.6ms)[0m  [1m[35mCREATE INDEX "index_web_sites_on_vhost" ON "web_sites" ("vhost")[0m
  [1m[35m (69.5ms)[0m  [1m[35mCREATE INDEX "index_web_sites_on_comments" ON "web_sites" ("comments")[0m
  [1m[35m (55.2ms)[0m  [1m[35mCREATE INDEX "index_web_sites_on_options" ON "web_sites" ("options")[0m
  [1m[35m (55.3ms)[0m  [1m[35mCREATE INDEX "index_web_pages_on_path" ON "web_pages" ("path")[0m
  [1m[35m (72.8ms)[0m  [1m[35mCREATE INDEX "index_web_pages_on_query" ON "web_pages" ("query")[0m
  [1m[35m (60.7ms)[0m  [1m[35mCREATE INDEX "index_web_forms_on_path" ON "web_forms" ("path")[0m
  [1m[35m (100.1ms)[0m  [1m[35mCREATE INDEX "index_web_vulns_on_path" ON "web_vulns" ("path")[0m
  [1m[35m (78.0ms)[0m  [1m[35mCREATE INDEX "index_web_vulns_on_method" ON "web_vulns" ("method")[0m
  [1m[35m (55.3ms)[0m  [1m[35mCREATE INDEX "index_web_vulns_on_name" ON "web_vulns" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110730000001"]]
  [1m[36mTRANSACTION (23.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to PruneIndexes (20110812000001)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110812000001"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandNotes (20110922000000)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "notes" ALTER COLUMN "data" TYPE text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110922000000"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddModRefTable (20110928101300)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (128.7ms)[0m  [1m[35mCREATE TABLE "mod_refs" ("id" serial NOT NULL PRIMARY KEY, "module" character varying(1024), "mtype" character varying(128), "ref" text)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20110928101300"]]
  [1m[36mTRANSACTION (20.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDisplayNameToReportsTable (20111011110000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "reports" ADD "name" character varying(63)[0m
  [1m[36mAddDisplayNameToReportsTable::Report Load (0.8ms)[0m  [1m[34mSELECT "reports".* FROM "reports"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20111011110000"]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to InetColumns (20111203000000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (547.2ms)[0m  [1m[35mALTER TABLE "hosts" ALTER COLUMN "address" TYPE INET using address::INET[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "hosts" DROP COLUMN "address6"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20111203000000"]]
  [1m[36mTRANSACTION (25.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to MoreInetColumns (20111204000000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (112.5ms)[0m  [1m[35mALTER TABLE "wmap_requests" ALTER COLUMN "address" TYPE INET using address::INET[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "wmap_requests" DROP COLUMN "address6"[0m
  [1m[35m (126.7ms)[0m  [1m[35mALTER TABLE "wmap_targets" ALTER COLUMN "address" TYPE INET using address::INET[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "wmap_targets" DROP COLUMN "address6"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20111204000000"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddScopeToHosts (20111210000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "hosts" ADD "scope" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20111210000000"]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVirtualHostToHosts (20120126110000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "hosts" ADD "virtual_host" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120126110000"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameWorkspaceMembers (20120411173220)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "project_members" RENAME TO "workspace_members"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120411173220"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCounterCachesToHosts (20120601152442)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "hosts" ADD "note_count" integer DEFAULT 0[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "hosts" ADD "vuln_count" integer DEFAULT 0[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "hosts" ADD "service_count" integer DEFAULT 0[0m
  [1m[36mMdm::Host Load (1.7ms)[0m  [1m[34mSELECT "hosts".* FROM "hosts"[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120601152442"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVulnDetails (20120625000000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (151.9ms)[0m  [1m[35mCREATE TABLE "vuln_details" ("id" serial NOT NULL PRIMARY KEY, "vuln_id" integer, "cvss_score" float, "cvss_vector" character varying, "title" character varying, "description" text, "solution" text, "proof" bytea, "nx_console_id" integer, "nx_device_id" integer, "nx_vuln_id" character varying, "nx_severity" float, "nx_pci_severity" float, "nx_published" timestamp, "nx_added" timestamp, "nx_modified" timestamp, "nx_tags" text)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000000"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHostDetails (20120625000001)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (58.6ms)[0m  [1m[35mCREATE TABLE "host_details" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "nx_console_id" integer, "nx_device_id" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000001"]]
  [1m[36mTRANSACTION (22.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandDetails (20120625000002)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "vuln_details" ADD "nx_vuln_status" text[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "vuln_details" ADD "nx_proof_key" text[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "vuln_details" ADD "src" character varying[0m
  [1m[35m (44.4ms)[0m  [1m[35mALTER TABLE "host_details" ADD "src" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000002"]]
  [1m[36mTRANSACTION (23.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandDetails2 (20120625000003)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "host_details" ADD "nx_site_name" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "host_details" ADD "nx_site_importance" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "host_details" ADD "nx_scan_template" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "host_details" ADD "nx_risk_score" float[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vuln_details" ADD "nx_scan_id" integer[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vuln_details" ADD "nx_vulnerable_since" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vuln_details" ADD "nx_pci_compliance_status" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000003"]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVulnAttempts (20120625000004)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (149.6ms)[0m  [1m[35mCREATE TABLE "vuln_attempts" ("id" serial NOT NULL PRIMARY KEY, "vuln_id" integer, "attempted_at" timestamp, "exploited" boolean, "fail_reason" character varying, "username" character varying, "module" text, "session_id" integer, "loot_id" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000004"]]
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVulnAndHostCounterCaches (20120625000005)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "hosts" ADD "host_detail_count" integer DEFAULT 0[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "vulns" ADD "vuln_detail_count" integer DEFAULT 0[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "vulns" ADD "vuln_attempt_count" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000005"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddModuleDetails (20120625000006)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.1ms)[0m  [1m[35mCREATE TABLE "module_details" ("id" serial NOT NULL PRIMARY KEY, "mtime" timestamp, "file" text, "mtype" character varying, "refname" text, "fullname" text, "name" text, "rank" integer, "description" text, "license" character varying, "privileged" boolean, "disclosure_date" timestamp, "default_target" integer, "default_action" text, "stance" character varying, "ready" boolean)[0m
  [1m[35m (44.3ms)[0m  [1m[35mCREATE INDEX "index_module_details_on_refname" ON "module_details" ("refname")[0m
  [1m[35m (43.9ms)[0m  [1m[35mCREATE INDEX "index_module_details_on_name" ON "module_details" ("name")[0m
  [1m[35m (66.8ms)[0m  [1m[35mCREATE INDEX "index_module_details_on_description" ON "module_details" ("description")[0m
  [1m[35m (54.9ms)[0m  [1m[35mCREATE INDEX "index_module_details_on_mtype" ON "module_details" ("mtype")[0m
  [1m[35m (112.7ms)[0m  [1m[35mCREATE TABLE "module_authors" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "name" text, "email" text)[0m
  [1m[35m (77.6ms)[0m  [1m[35mCREATE INDEX "index_module_authors_on_module_detail_id" ON "module_authors" ("module_detail_id")[0m
  [1m[35m (110.9ms)[0m  [1m[35mCREATE TABLE "module_mixins" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "name" text)[0m
  [1m[35m (55.0ms)[0m  [1m[35mCREATE INDEX "index_module_mixins_on_module_detail_id" ON "module_mixins" ("module_detail_id")[0m
  [1m[35m (122.7ms)[0m  [1m[35mCREATE TABLE "module_targets" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "index" integer, "name" text)[0m
  [1m[35m (54.8ms)[0m  [1m[35mCREATE INDEX "index_module_targets_on_module_detail_id" ON "module_targets" ("module_detail_id")[0m
  [1m[35m (122.5ms)[0m  [1m[35mCREATE TABLE "module_actions" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "name" text)[0m
  [1m[35m (55.6ms)[0m  [1m[35mCREATE INDEX "index_module_actions_on_module_detail_id" ON "module_actions" ("module_detail_id")[0m
  [1m[35m (111.2ms)[0m  [1m[35mCREATE TABLE "module_refs" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "name" text)[0m
  [1m[35m (79.2ms)[0m  [1m[35mCREATE INDEX "index_module_refs_on_module_detail_id" ON "module_refs" ("module_detail_id")[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE INDEX "index_module_refs_on_name" ON "module_refs" ("name")[0m
  [1m[35m (112.1ms)[0m  [1m[35mCREATE TABLE "module_archs" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "name" text)[0m
  [1m[35m (76.7ms)[0m  [1m[35mCREATE INDEX "index_module_archs_on_module_detail_id" ON "module_archs" ("module_detail_id")[0m
  [1m[35m (135.3ms)[0m  [1m[35mCREATE TABLE "module_platforms" ("id" serial NOT NULL PRIMARY KEY, "module_detail_id" integer, "name" text)[0m
  [1m[35m (54.7ms)[0m  [1m[35mCREATE INDEX "index_module_platforms_on_module_detail_id" ON "module_platforms" ("module_detail_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000006"]]
  [1m[36mTRANSACTION (28.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddExploitAttempts (20120625000007)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.4ms)[0m  [1m[35mCREATE TABLE "exploit_attempts" ("id" serial NOT NULL PRIMARY KEY, "host_id" integer, "service_id" integer, "vuln_id" integer, "attempted_at" timestamp, "exploited" boolean, "fail_reason" character varying, "username" character varying, "module" text, "session_id" integer, "loot_id" integer, "port" integer, "proto" character varying)[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "hosts" ADD "exploit_attempt_count" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000007"]]
  [1m[36mTRANSACTION (22.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFailMessage (20120625000008)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "vuln_attempts" ADD "fail_detail" text[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "exploit_attempts" ADD "fail_detail" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120625000008"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOwnerAndPayloadToWebVulns (20120718202805)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "owner" character varying[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "web_vulns" ADD "payload" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20120718202805"]]
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeRequiredColumnsToNullFalseInWebVulns (20130228214900)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "category" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "confidence" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "method" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "params" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "path" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "pname" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "proof" SET NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "risk" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130228214900"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModuleActions (20130412154159)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "module_actions" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "index_module_actions_on_module_detail_id" RENAME TO "index_module_actions_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412154159"]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModuleArchs (20130412171844)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "module_archs" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "index_module_archs_on_module_detail_id" RENAME TO "index_module_archs_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412171844"]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModuleAuthors (20130412173121)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "module_authors" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER INDEX "index_module_authors_on_module_detail_id" RENAME TO "index_module_authors_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412173121"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModuleMixins (20130412173640)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "module_mixins" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "index_module_mixins_on_module_detail_id" RENAME TO "index_module_mixins_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412173640"]]
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModulePlatforms (20130412174254)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "module_platforms" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER INDEX "index_module_platforms_on_module_detail_id" RENAME TO "index_module_platforms_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412174254"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModuleRefs (20130412174719)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "module_refs" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "index_module_refs_on_module_detail_id" RENAME TO "index_module_refs_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412174719"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeForeignKeyInModuleTargets (20130412175040)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "module_targets" RENAME COLUMN "module_detail_id" TO "detail_id"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER INDEX "index_module_targets_on_module_detail_id" RENAME TO "index_module_targets_on_detail_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130412175040"]]
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredsCounterCache (20130423211152)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "hosts" ADD "cred_count" integer DEFAULT 0[0m
  [1m[36mMdm::Cred Load (1.1ms)[0m  [1m[34mSELECT "creds".* FROM "creds"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130423211152"]]
  [1m[36mTRANSACTION (25.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeRequiredColumnsToNullFalseInHosts (20130430151353)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "hosts" ALTER COLUMN "address" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "hosts" ALTER COLUMN "workspace_id" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130430151353"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to EnforceAddressUniquenessInWorkspaceInHosts (20130430162145)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[34m
      SELECT workspace_id, address, count_addr
        FROM (
          SELECT workspace_id, address, COUNT(address) AS count_addr
            FROM hosts
            GROUP BY address, workspace_id
        ) X
        WHERE count_addr > 1
    [0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_hosts_on_address"[0m
  [1m[35m (67.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_hosts_on_workspace_id_and_address" ON "hosts" ("workspace_id", "address")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130430162145"]]
  [1m[36mTRANSACTION (27.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveCampaigns (20130510021637)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "attachments"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "attachments_email_templates"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "email_addresses"[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "email_templates"[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "web_templates"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "campaigns"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130510021637"]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeWebVulnsConfidenceToInteger (20130515164311)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (426.1ms)[0m  [1m[35mALTER TABLE web_vulns ALTER COLUMN confidence TYPE integer USING confidence::integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130515164311"]]
  [1m[36mTRANSACTION (34.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to ValidMdmWebVulnParams (20130515172727)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::WebVuln Load (1.5ms)[0m  [1m[34mSELECT "web_vulns".* FROM "web_vulns" ORDER BY "web_vulns"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130515172727"]]
  [1m[36mTRANSACTION (22.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakingVulnsRefsARealArModel (20130516204810)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (116.3ms)[0m  [1m[35mALTER TABLE "vulns_refs" ADD "id" serial NOT NULL PRIMARY KEY[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130516204810"]]
  [1m[36mTRANSACTION (23.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTaskCreds (20130522001343)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.1ms)[0m  [1m[35mCREATE TABLE "task_creds" ("id" serial NOT NULL PRIMARY KEY, "task_id" integer NOT NULL, "cred_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130522001343"]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTaskHosts (20130522032517)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (83.1ms)[0m  [1m[35mCREATE TABLE "task_hosts" ("id" serial NOT NULL PRIMARY KEY, "task_id" integer NOT NULL, "host_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130522032517"]]
  [1m[36mTRANSACTION (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTaskServices (20130522041110)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.1ms)[0m  [1m[35mCREATE TABLE "task_services" ("id" serial NOT NULL PRIMARY KEY, "task_id" integer NOT NULL, "service_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130522041110"]]
  [1m[36mTRANSACTION (114.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveCampaignIdFromClients (20130525015035)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "clients" DROP COLUMN "campaign_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130525015035"]]
  [1m[36mTRANSACTION (155.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropTableImportedCreds (20130525212420)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "imported_creds"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130525212420"]]
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakingHostTagsARealArModel (20130531144949)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.1ms)[0m  [1m[35mALTER TABLE "hosts_tags" ADD "id" serial NOT NULL PRIMARY KEY[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130531144949"]]
  [1m[36mTRANSACTION (19.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTaskSessions (20130604145732)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (107.5ms)[0m  [1m[35mCREATE TABLE "task_sessions" ("id" serial NOT NULL PRIMARY KEY, "task_id" integer NOT NULL, "session_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130604145732"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePnameValidation (20130717150737)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "pname" TYPE text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "pname" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20130717150737"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAutomaticExploitationMatches (20131002004641)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.6ms)[0m  [1m[35mCREATE TABLE "automatic_exploitation_matches" ("id" serial NOT NULL PRIMARY KEY, "ref_id" integer, "state" character varying, "nexpose_data_vulnerability_definition_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (55.0ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_matches_on_ref_id" ON "automatic_exploitation_matches" ("ref_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20131002004641"]]
  [1m[36mTRANSACTION (29.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAutomaticExploitationMatchSets (20131002164449)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.0ms)[0m  [1m[35mCREATE TABLE "automatic_exploitation_match_sets" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (66.1ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_match_sets_on_user_id" ON "automatic_exploitation_match_sets" ("user_id")[0m
  [1m[35m (66.3ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_match_sets_on_workspace_id" ON "automatic_exploitation_match_sets" ("workspace_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20131002164449"]]
  [1m[36mTRANSACTION (49.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAutomaticExploitationRuns (20131008213344)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.5ms)[0m  [1m[35mCREATE TABLE "automatic_exploitation_runs" ("id" serial NOT NULL PRIMARY KEY, "workspace_id" integer, "user_id" integer, "match_set_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20131008213344"]]
  [1m[36mTRANSACTION (27.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ModuleDetailOnAutomaticExploitationMatch (20131011184338)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "automatic_exploitation_matches" RENAME COLUMN "ref_id" TO "module_detail_id"[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER INDEX "index_automatic_exploitation_matches_on_ref_id" RENAME TO "index_automatic_exploitation_matches_on_module_detail_id"[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "automatic_exploitation_matches" ADD "match_set_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20131011184338"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAutomaticExploitationMatchResults (20131017150735)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (256.8ms)[0m  [1m[35mCREATE TABLE "automatic_exploitation_match_results" ("id" serial NOT NULL PRIMARY KEY, "match_id" integer, "run_id" integer, "state" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20131017150735"]]
  [1m[36mTRANSACTION (37.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakeMatchPolymorphic (20131021185657)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "automatic_exploitation_matches" ADD "matchable_type" character varying[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "automatic_exploitation_matches" ADD "matchable_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20131021185657"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialPublics (20140331173835)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (162.9ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_publics" ("id" serial NOT NULL PRIMARY KEY, "username" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (55.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_publics_on_username" ON "metasploit_credential_publics" ("username")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140331173835"]]
  [1m[36mTRANSACTION (25.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialPrivates (20140407212345)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (169.5ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_privates" ("id" serial NOT NULL PRIMARY KEY, "type" character varying NOT NULL, "data" text NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (54.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_privates_on_type_and_data" ON "metasploit_credential_privates" ("type", "data")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140407212345"]]
  [1m[36mTRANSACTION (23.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialRealms (20140410132401)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (171.6ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_realms" ("id" serial NOT NULL PRIMARY KEY, "key" character varying NOT NULL, "value" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140410132401"]]
  [1m[36mTRANSACTION (21.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to UniqueMetasploitCredentialRealms (20140410161611)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_realms_on_key_and_value" ON "metasploit_credential_realms" ("key", "value")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140410161611"]]
  [1m[36mTRANSACTION (21.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialOriginManuals (20140410191213)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.5ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_origin_manuals" ("id" serial NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (76.7ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_origin_manuals_on_user_id" ON "metasploit_credential_origin_manuals" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140410191213"]]
  [1m[36mTRANSACTION (20.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialOriginImports (20140410205410)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (275.4ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_origin_imports" ("id" serial NOT NULL PRIMARY KEY, "filename" text NOT NULL, "task_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (66.1ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_origin_imports_on_task_id" ON "metasploit_credential_origin_imports" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140410205410"]]
  [1m[36mTRANSACTION (40.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialOriginSessions (20140411142102)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (177.3ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_origin_sessions" ("id" serial NOT NULL PRIMARY KEY, "post_reference_name" text NOT NULL, "session_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (99.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "unique_metasploit_credential_origin_sessions" ON "metasploit_credential_origin_sessions" ("session_id", "post_reference_name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140411142102"]]
  [1m[36mTRANSACTION (38.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialOriginServices (20140411205325)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (134.1ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_origin_services" ("id" serial NOT NULL PRIMARY KEY, "service_id" integer NOT NULL, "module_full_name" text NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (54.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "unique_metasploit_credential_origin_services" ON "metasploit_credential_origin_services" ("service_id", "module_full_name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140411205325"]]
  [1m[36mTRANSACTION (48.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialCores (20140414192550)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (190.0ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_cores" ("id" serial NOT NULL PRIMARY KEY, "origin_type" character varying NOT NULL, "origin_id" integer NOT NULL, "private_id" integer, "public_id" integer, "realm_id" integer, "workspace_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (99.7ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_cores_on_origin_type_and_origin_id" ON "metasploit_credential_cores" ("origin_type", "origin_id")[0m
  [1m[35m (55.5ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_cores_on_private_id" ON "metasploit_credential_cores" ("private_id")[0m
  [1m[35m (55.5ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_cores_on_public_id" ON "metasploit_credential_cores" ("public_id")[0m
  [1m[35m (81.2ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_cores_on_realm_id" ON "metasploit_credential_cores" ("realm_id")[0m
  [1m[35m (74.1ms)[0m  [1m[35mCREATE INDEX "index_metasploit_credential_cores_on_workspace_id" ON "metasploit_credential_cores" ("workspace_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140414192550"]]
  [1m[36mTRANSACTION (22.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialLogins (20140417140933)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (152.4ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_logins" ("id" serial NOT NULL PRIMARY KEY, "core_id" integer NOT NULL, "service_id" integer NOT NULL, "access_level" character varying, "status" character varying NOT NULL, "last_attempted_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (75.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_logins_on_core_id_and_service_id" ON "metasploit_credential_logins" ("core_id", "service_id")[0m
  [1m[35m (189.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_logins_on_service_id_and_core_id" ON "metasploit_credential_logins" ("service_id", "core_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140417140933"]]
  [1m[36mTRANSACTION (91.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLoginsCounterCacheToCores (20140520140817)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "metasploit_credential_cores" ADD "logins_count" integer DEFAULT 0[0m
  [1m[36mMetasploit::Credential::Core Load (1.6ms)[0m  [1m[34mSELECT "metasploit_credential_cores".* FROM "metasploit_credential_cores"[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140520140817"]]
  [1m[36mTRANSACTION (26.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtrFormatToMetasploitCredentialPrivates (20140603163708)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "metasploit_credential_privates" ADD "jtr_format" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140603163708"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMetasploitCredentialOriginCrackedPasswords (20140605173747)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.9ms)[0m  [1m[35mCREATE TABLE "metasploit_credential_origin_cracked_passwords" ("id" serial NOT NULL PRIMARY KEY, "metasploit_credential_core_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (55.5ms)[0m  [1m[35mCREATE INDEX "originating_credential_cores" ON "metasploit_credential_origin_cracked_passwords" ("metasploit_credential_core_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140605173747"]]
  [1m[36mTRANSACTION (28.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCredentialCoresTasksJoinTable (20140702184622)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "credential_cores_tasks"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "credential_cores_tasks" ("core_id" integer, "task_id" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140702184622"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCredentialLoginsTasksJoinTable (20140703144541)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "credential_logins_tasks"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "credential_logins_tasks" ("login_id" integer, "task_id" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140703144541"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to OldCredsToNewCreds (20140722174919)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::Workspace Load (1.1ms)[0m  [1m[34mSELECT "workspaces".* FROM "workspaces"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140722174919"]]
  [1m[36mTRANSACTION (30.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to UniqueMetasploitCredentialCores (20140728191933)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (78.1ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_complete_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, private_id, public_id) WHERE private_id IS NOT NULL AND public_id IS NOT NULL[0m
  [1m[35m (85.3ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_private_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, private_id) WHERE private_id IS NOT NULL AND public_id IS NULL[0m
  [1m[35m (69.9ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_public_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, public_id) WHERE private_id IS NULL AND public_id IS NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140728191933"]]
  [1m[36mTRANSACTION (26.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to UniqueMetasploitCredentialCoresWithRealmId (20140801150537)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX unique_complete_metasploit_credential_cores[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX unique_private_metasploit_credential_cores[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX unique_public_metasploit_credential_cores[0m
  [1m[35m (75.5ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_private_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, private_id) WHERE realm_id IS NULL AND public_id IS NULL AND private_id IS NOT NULL[0m
  [1m[35m (72.7ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_public_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, public_id) WHERE realm_id IS NULL AND public_id IS NOT NULL AND private_id IS NULL[0m
  [1m[35m (71.7ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_realmless_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, public_id, private_id) WHERE realm_id IS NULL AND public_id IS NOT NULL AND private_id IS NOT NULL[0m
  [1m[35m (55.2ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_publicless_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, realm_id, private_id) WHERE realm_id IS NOT NULL AND public_id IS NULL AND private_id IS NOT NULL[0m
  [1m[35m (55.5ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_privateless_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, realm_id, public_id) WHERE realm_id IS NOT NULL AND public_id IS NOT NULL AND private_id IS NULL[0m
  [1m[35m (82.4ms)[0m  [1m[35mCREATE UNIQUE INDEX unique_complete_metasploit_credential_cores ON metasploit_credential_cores (workspace_id, realm_id, public_id, private_id) WHERE realm_id IS NOT NULL AND public_id IS NOT NULL AND private_id IS NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140801150537"]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetectedArchToHost (20140905031549)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "hosts" ADD "detected_arch" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140905031549"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypetoPublic (20140922170030)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "metasploit_credential_publics" ADD "type" character varying[0m
  [1m[35m (0.8ms)[0m  [1m[33mUPDATE metasploit_credential_publics SET type = 'Metasploit::Credential::Username'[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "metasploit_credential_publics" ALTER COLUMN "type" TYPE character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "metasploit_credential_publics" ALTER COLUMN "type" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20140922170030"]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to OldCredsToNewCreds2 (20150106201450)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::Workspace Load (0.6ms)[0m  [1m[34mSELECT "workspaces".* FROM "workspaces"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150106201450"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveDuplicateServices (20150112203945)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::Service Load (1.4ms)[0m  [1m[34mSELECT "services"."host_id", "services"."proto", COUNT("services"."port") FROM "services" GROUP BY host_id, port, proto HAVING COUNT("services"."port") > 1[0m
  [1m[35m (69.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_services_on_host_id_and_port_and_proto" ON "services" ("host_id", "port", "proto")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150112203945"]]
  [1m[36mTRANSACTION (45.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropServiceUniquenessIndex (20150205192745)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP INDEX  "index_services_on_host_id_and_port_and_proto"[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150205192745"]]
  [1m[36mTRANSACTION (34.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVulnIdToNote (20150209195939)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "notes" ADD "vuln_id" integer[0m
  [1m[35m (59.6ms)[0m  [1m[35mCREATE INDEX "index_notes_on_vuln_id" ON "notes" ("vuln_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150209195939"]]
  [1m[36mTRANSACTION (44.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveDuplicateServices2 (20150212214222)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMdm::Service Load (1.2ms)[0m  [1m[34mSELECT "services"."host_id", "services"."proto", COUNT("services"."port") FROM "services" GROUP BY host_id, port, proto HAVING COUNT("services"."port") > 1[0m
  [1m[35m (102.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_services_on_host_id_and_port_and_proto" ON "services" ("host_id", "port", "proto")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150212214222"]]
  [1m[36mTRANSACTION (42.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateModuleRuns (20150219173821)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (250.9ms)[0m  [1m[35mCREATE TABLE "module_runs" ("id" serial NOT NULL PRIMARY KEY, "attempted_at" timestamp, "fail_detail" text, "fail_reason" character varying, "module_fullname" text, "port" integer, "proto" character varying, "session_id" integer, "status" character varying, "trackable_id" integer, "trackable_type" character varying, "user_id" integer, "username" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (111.8ms)[0m  [1m[35mCREATE INDEX "index_module_runs_on_session_id" ON "module_runs" ("session_id")[0m
  [1m[35m (55.7ms)[0m  [1m[35mCREATE INDEX "index_module_runs_on_user_id" ON "module_runs" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150219173821"]]
  [1m[36mTRANSACTION (50.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddModuleRunToSession (20150219215039)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sessions" ADD "module_run_id" integer[0m
  [1m[35m (97.2ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_module_run_id" ON "sessions" ("module_run_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150219215039"]]
  [1m[36mTRANSACTION (50.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddModuleRunFkToLoot (20150226151459)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "loots" ADD "module_run_id" integer[0m
  [1m[35m (83.3ms)[0m  [1m[35mCREATE INDEX "index_loots_on_module_run_id" ON "loots" ("module_run_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150226151459"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddModuleFullNameToMatch (20150312155312)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "automatic_exploitation_matches" ADD "module_fullname" text[0m
  [1m[35m (98.7ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_matches_on_module_fullname" ON "automatic_exploitation_matches" ("module_fullname")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150312155312"]]
  [1m[36mTRANSACTION (72.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameModuleIndices (20150317145455)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150317145455"]]
  [1m[36mTRANSACTION (22.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingAeIndices (20150326183742)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (134.1ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_match_results_on_match_id" ON "automatic_exploitation_match_results" ("match_id")[0m
  [1m[35m (55.0ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_match_results_on_run_id" ON "automatic_exploitation_match_results" ("run_id")[0m
  [1m[35m (72.8ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_runs_on_match_set_id" ON "automatic_exploitation_runs" ("match_set_id")[0m
  [1m[35m (82.2ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_runs_on_user_id" ON "automatic_exploitation_runs" ("user_id")[0m
  [1m[35m (66.1ms)[0m  [1m[35mCREATE INDEX "index_automatic_exploitation_runs_on_workspace_id" ON "automatic_exploitation_runs" ("workspace_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150326183742"]]
  [1m[36mTRANSACTION (24.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameAutomaticExploitationIndex (20150421211719)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150421211719"]]
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOriginToMdmVuln (20150514182921)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "vulns" ADD "origin_id" integer[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vulns" ADD "origin_type" character varying[0m
  [1m[35m (90.9ms)[0m  [1m[35mCREATE INDEX "index_vulns_on_origin_id" ON "vulns" ("origin_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150514182921"]]
  [1m[36mTRANSACTION (24.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullFromWebVulnPArams (20160415153312)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "web_vulns" ALTER COLUMN "params" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160415153312"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFingerprintedToWorkspace (20161004165612)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "workspaces" ADD "import_fingerprint" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161004165612"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RecreateIndexOnPrivateDataAndType (20161107153145)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_metasploit_credential_privates_on_type_and_data"[0m
  [1m[35m (74.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_privates_on_type_and_data" ON "metasploit_credential_privates" ("type", "data") WHERE NOT (type = 'Metasploit::Credential::SSHKey')[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161107153145"]]
  [1m[36mTRANSACTION (24.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateIndexOnPrivateDataAndTypeForSshKey (20161107203710)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_metasploit_credential_privates_on_type_and_data_sshkey" ON
"metasploit_credential_privates" ("type", decode(md5(data), 'hex'))
WHERE type in ('Metasploit::Credential::SSHKey')
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161107203710"]]
  [1m[36mTRANSACTION (22.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOsFamilyToHosts (20161227212223)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "hosts" ADD "os_family" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161227212223"]]
  [1m[36mTRANSACTION (35.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayloads (20180904120211)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (126.0ms)[0m  [1m[35mCREATE TABLE "payloads" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "uuid" character varying, "uuid_mask" integer, "timestamp" integer, "arch" character varying, "platform" character varying, "urls" character varying, "description" character varying, "workspace_id" integer, "raw_payload" character varying, "raw_payload_hash" character varying, "build_status" character varying, "build_opts" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180904120211"]]
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAsyncCallbacks (20190308134512)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (171.9ms)[0m  [1m[35mCREATE TABLE "async_callbacks" ("id" serial NOT NULL PRIMARY KEY, "uuid" character varying NOT NULL, "timestamp" integer NOT NULL, "listener_uri" character varying, "target_host" character varying, "target_port" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190308134512"]]
  [1m[36mTRANSACTION (19.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePayloadWorkspaces (20190507120211)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "payloads" DROP COLUMN "workspace_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190507120211"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-04-12 02:27:37.710316"], ["updated_at", "2022-04-12 02:27:37.710316"]]
  [1m[36mTRANSACTION (52.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087026728384709525)[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
